unsigned short compute_checksum(unsigned short *buf, int nwords);
